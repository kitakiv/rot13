const userFirstNameInput=document.getElementById("name"),userLastNameInput=document.getElementById("surname"),userPasswordInput=document.getElementById("password"),checkPass=document.querySelector(".check"),popUp=document.querySelector(".pop-up"),userContent=document.querySelector(".user-content");function encodeToRot13(e){return e.replace(/[A-Za-z0-9]/g,e=>"nopqrstuvwxyzabcdefghijklmNOPQRSTUVWXYZABCDEFGHIJKLM5678901234"["abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".indexOf(e)])}checkPass.addEventListener("change",function(){this.checked?userPasswordInput.type="text":userPasswordInput.type="password"});let users=[{name:"Student1",surname:"SurnameStd1",password:"409kbSTD"},{name:"Student2",surname:"SurnameStd2",password:"410kbSTD"}],admin=[{name:"Admin",surname:"surnameAdmin",password:"admin147258"}];function masSfr(e){let s=e.reduce((e,s)=>(s.name=encodeToRot13(s.name),s.surname=encodeToRot13(s.surname),s.password=encodeToRot13(s.password),[...e,s]),[]);return s}function regAdmin(){let e=JSON.parse(localStorage.getItem("isAdmin")),s=masSfr(JSON.parse(localStorage.getItem("usersInformation")));if(e){popUp.classList.contains("hidden")||popUp.classList.add("hidden"),document.querySelector(".user-admin").innerHTML="Admin",userContent.classList.contains("hidden")||userContent.classList.add("hidden");for(let n=0;n<s.length;n++){let t=document.createElement("li");t.classList.add("li"),t.innerHTML=`${n+1}. ${s[n].name} ${s[n].surname}`;let r=document.createElement("div");r.classList.add("li-1"),r.innerHTML=`${s[n].password}`,t.appendChild(r),document.querySelector(".ul").appendChild(t)}document.querySelector(".admin-content").classList.contains("hidden")&&document.querySelector(".admin-content").classList.remove("hidden"),src1="./assets/all/2.jpg",document.querySelector(".background").src=src1}}function regUser(){JSON.parse(localStorage.getItem("isUser"))&&(popUp.classList.contains("hidden")||popUp.classList.add("hidden"),document.querySelector(".user-admin").innerHTML="User",userContent.classList.contains("hidden")&&userContent.classList.remove("hidden"),document.querySelector(".admin-content").classList.contains("hidden")||document.querySelector(".admin-content").classList.add("hidden"),src1="./assets/all/1.jpg",document.querySelector(".background").src=src1)}function loginUser(){let e=masSfr(JSON.parse(localStorage.getItem("usersInformation"))),s=masSfr(JSON.parse(localStorage.getItem("adminInformation")));for(let n=0;n<users.length;n++)e[n].name===`${userFirstNameInput.value}`&&e[n].surname===`${userLastNameInput.value}`&&e[n].password===`${userPasswordInput.value}`&&(console.log("user"),localStorage.setItem("isUser",JSON.stringify(!0)),regUser());for(let t=0;t<users.length;t++)s[t].name===`${userFirstNameInput.value}`&&s[t].surname===`${userLastNameInput.value}`&&s[t].password===`${userPasswordInput.value}`&&(console.log("admin"),localStorage.setItem("isAdmin",JSON.stringify(!0)),regAdmin())}null===JSON.parse(localStorage.getItem("usersInformation"))&&(localStorage.setItem("usersInformation",JSON.stringify(masSfr(users))),localStorage.setItem("isUser",JSON.stringify(!1)),localStorage.setItem("isAdmin",JSON.stringify(!1)),localStorage.setItem("adminInformation",JSON.stringify(masSfr(admin)))),JSON.parse(localStorage.getItem("isUser"))&&regUser(),JSON.parse(localStorage.getItem("isAdmin"))&&regAdmin(),document.querySelector(".img-user").addEventListener("click",function(){localStorage.setItem("isUser",JSON.stringify(!1)),localStorage.setItem("isAdmin",JSON.stringify(!1)),location.reload()}),document.getElementById("form").addEventListener("submit",loginUser);